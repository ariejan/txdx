name: txdx
version: 1.0.3+4
summary: Todo.txt for your desktop
description: Are you using Todo.txt? But do you want a good looking desktop app? TxDx's got you covered!
confinement: strict
base: core18
grade: stable
architectures:
  - build-on: amd64


slots:
  dbus-txdx: # adjust accordingly to your app name
    interface: dbus
    bus: session
    name: io.devroom.txdx

plugs:
  gtk-3-themes:
    interface: content
    target: $SNAP/share/themes
    default-provider: gtk-common-themes
  icon-themes:
    interface: content
    target: $SNAP/share/icons
    default-provider: gtk-common-themes
  sound-themes:
    interface: content
    target: $SNAP/share/sounds
    default-provider: gtk-common-themes

apps:
  txdx:
    command: txdx
    extensions: [flutter-stable] 
    slots:
      - dbus-txdx
    plugs:
      - desktop
      - desktop-legacy
      - removable-media
      - network
      - home
      - gsettings
      - wayland
      - x11
      - storage-framework-service

parts:
  zenity:
    plugin: nil
    stage-packages:
      - zenity

  txdx:
    after:
      - zenity
    source: .
    plugin: flutter
    flutter-target: lib/main.dart

